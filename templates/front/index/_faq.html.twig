{# FAQ data object #}
{% set faqs = [
    {
        id: 1,
        question: 'Comment PlumbPay simplifie-t-il la création de devis et factures ?',
        answer: 'PlumbPay dispose d\'une interface intuitive par glisser-déposer qui vous permet de créer des devis et factures professionnels en quelques minutes. Sélectionnez simplement vos services dans notre catalogue complet, ajoutez les détails client, et notre système intelligent calcule automatiquement les totaux, taxes et formatage. Vous pouvez également sauvegarder des modèles pour les services récurrents afin d\'accélérer les futurs devis.'
    },
    {
        id: 2,
        question: 'Puis-je envoyer des devis et factures directement aux clients depuis PlumbPay ?',
        answer: 'Absolument ! Une fois votre document prêt, vous pouvez l\'envoyer instantanément par e-mail directement depuis la plateforme. Les clients reçoivent des PDF à l\'aspect professionnel avec votre marque, et vous recevez des notifications en temps réel quand ils consultent ou répondent à vos devis. Vous pouvez également configurer des rappels de paiement automatiques pour les factures en retard.'
    },
    {
        id: 3,
        question: 'PlumbPay intègre-t-il le suivi des paiements et l\'analytique ?',
        answer: 'Oui, PlumbPay inclut un suivi complet des paiements avec des mises à jour de statut en temps réel. Surveillez d\'un coup d\'œil les factures payées, en attente et en retard. Notre tableau de bord analytique montre les tendances de trésorerie, les services les plus performants, les habitudes de paiement des clients, et vous aide à identifier les opportunités de croissance de votre entreprise.'
    },
    {
        id: 4,
        question: 'Comment PlumbPay gère-t-il les mises à jour et nouvelles fonctionnalités ?',
        answer: 'Nous améliorons continuellement PlumbPay basé sur les retours utilisateurs et les besoins de l\'industrie. Toutes les mises à jour sont automatiquement déployées sans interruption de service, vous assurant d\'avoir toujours accès aux dernières fonctionnalités. Nous notifions les utilisateurs des nouvelles capacités via des annonces dans l\'application et des notes de version détaillées.'
    },
    {
        id: 5,
        question: 'Pourquoi choisir PlumbPay plutôt que les méthodes papier traditionnelles ?',
        answer: 'PlumbPay transforme vos opérations commerciales en éliminant la paperasse, réduisant les erreurs et améliorant la trésorerie. Créez des documents professionnels qui renforcent votre image de marque, accédez à vos données métier de n\'importe où, et soyez payé plus rapidement avec les options de paiement intégrées. De plus, vous économiserez du temps, réduirez les coûts et contribuerez à la durabilité environnementale.'
    },
    {
        id: 6,
        question: 'Mes données métier sont-elles sécurisées avec PlumbPay ?',
        answer: 'La sécurité est notre priorité absolue. PlumbPay utilise un chiffrement de niveau entreprise, un stockage cloud sécurisé et des audits de sécurité réguliers. Vos données sont sauvegardées automatiquement et protégées par une authentification multi-facteurs. Nous respectons les standards de l\'industrie et les réglementations de confidentialité pour garantir que vos informations métier restent sûres et confidentielles.'
    }
] %}

<section id="faq" class="w-full py-24 bg-linear-to-br from-mainColor-400 via-mainColor-400 to-secondaryColor-400 relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 25% 25%, white 2px, transparent 2px), radial-gradient(circle at 75% 75%, white 2px, transparent 2px); background-size: 50px 50px;"></div>
    </div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">
                Questions Fréquemment Posées
            </h2>
            <p class="text-xl text-white/90 max-w-2xl mx-auto">
                Obtenez des réponses aux questions courantes sur PlumbPay et découvrez comment notre plateforme peut transformer votre entreprise de plomberie.
            </p>
        </div>

        <!-- FAQ Accordion -->
        <div x-data="faqAccordion()" class="space-y-4">
            {% for faq in faqs %}
                <div class="bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20">
                    <!-- Question Header -->
                    <button 
                        @click="toggle({{ faq.id }})"
                        class="w-full px-8 py-6 text-left flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-white/50 rounded-2xl transition-all duration-300"
                        :class="{ 'bg-white/90 dark:bg-gray-700/90': activeId === {{ faq.id }} }"
                    >
                        <div class="flex items-center space-x-4">
                            <!-- Question Number -->
                            <div class="shrink-0 w-8 h-8 bg-linear-to-r from-mainColor-400 to-secondaryColor-400 rounded-full flex items-center justify-center text-white text-sm font-bold">
                                {{ faq.id }}
                            </div>
                            <!-- Question Text -->
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white pr-4">
                                {{ faq.question }}
                            </h3>
                        </div>
                        
                        <!-- Expand/Collapse Icon -->
                        <div class="shrink-0">
                            {% include '_composants/_lucide_icon.html.twig' with {
                                name: 'chevron-down',
                                class: 'w-6 h-6 text-gray-600 dark:text-gray-300 transform transition-transform duration-300',
                                'x-bind:class': "{ 'rotate-180': activeId === " ~ faq.id ~ " }"
                            } %}
                        </div>
                    </button>

                    <!-- Answer Content -->
                    <div 
                        x-show="activeId === {{ faq.id }}"
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0 max-h-0"
                        x-transition:enter-end="opacity-100 max-h-96"
                        x-transition:leave="transition ease-in duration-200"
                        x-transition:leave-start="opacity-100 max-h-96"
                        x-transition:leave-end="opacity-0 max-h-0"
                        class="overflow-hidden"
                    >
                        <div class="px-8 pb-6">
                            <div class="pl-12"> <!-- Align with question text -->
                                <div class="h-px bg-linear-to-r from-mainColor-400 to-secondaryColor-400 mb-4"></div>
                                <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                                    {{ faq.answer }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- Bottom CTA -->
        <div class="text-center mt-16">
            <div class="bg-white/20 backdrop-blur-sm rounded-2xl p-8 border border-white/30">
                <h3 class="text-2xl font-bold text-white mb-4">Vous avez encore des questions ?</h3>
                <p class="text-white/90 mb-6">Notre équipe d'assistance est là pour vous aider à tirer le meilleur parti de PlumbPay.</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="{{ path('front_app_contact') }}" class="inline-flex items-center px-6 py-3 bg-white text-mainColor-400 rounded-full font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
                        {% include '_composants/_lucide_icon.html.twig' with {
                            icon: 'mail',
                            class: 'w-5 h-5 mr-2'
                        } %}
                        Contacter l'Assistance
                    </a>
                    <a href="#" class="inline-flex items-center px-6 py-3 border-2 border-white text-white rounded-full font-semibold hover:bg-white hover:text-mainColor-400 transition-all duration-300">
                        {% include '_composants/_lucide_icon.html.twig' with {
                            icon: 'file-text',
                            class: 'w-5 h-5 mr-2'
                        } %}
                        Documentation
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function faqAccordion() {
            return {
                activeId: 1, // First FAQ open by default
                
                toggle(id) {
                    // If clicking the active item, close it; otherwise open the new one
                    this.activeId = this.activeId === id ? null : id;
                }
            }
        }
    </script>
</section>
