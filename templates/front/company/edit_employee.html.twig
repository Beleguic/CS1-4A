{% extends 'base.html.twig' %}

{% block title %}Edit Account - Plumbpay{% endblock %}

{% block body %}
    <h1 class="text-3xl font-bold underline text-center my-8">Edit Account - Plumbpay</h1>
    <div class="text-center mb-4">
        <a href="{{ path('front_app_company_list_employee') }}" class="inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-white" style="background-color: #134F63; transition: background-color 0.2s ease-in-out;" onmouseover="this.style.backgroundColor='#05C1FA'" onmouseout="this.style.backgroundColor='#134F63'">Account</a>
    </div>
    <section class="max-w-4xl mx-auto px-4 py-8 bg-white shadow-md rounded-lg">
        {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}
        <div class="flex flex-col">
            {{ form_label(form.lastname) }}
            {{ form_widget(form.lastname, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50'}}) }}
            {{ form_errors(form.lastname) }}
        </div>
        
        <div class="flex flex-col">
            {{ form_label(form.firstname) }}
            {{ form_widget(form.firstname, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50'}}) }}
            {{ form_errors(form.firstname) }}
        </div>
        
        <div class="flex flex-col">
            {{ form_row(form.email, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50'}}) }}
        </div>
        
        <div class="flex flex-col">
            <div class="flex items-center gap-2">
                {{ form_widget(form.showPassword, {'attr': {'class': 'cursor-pointer'}}) }}
                {{ form_label(form.showPassword, null, {'attr': {'class': 'cursor-pointer'}}) }}
            </div>
        </div>
        
        <div id="passwords" class="hidden space-y-4">
            <div class="flex flex-col">
                {{ form_label(form.oldPassword) }}
                {{ form_widget(form.oldPassword, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
                {{ form_errors(form.oldPassword) }}
            </div>
            
            <div class="flex flex-col">
                {{ form_label(form.newPassword.first) }}
                {{ form_widget(form.newPassword.first, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
                {{ form_errors(form.newPassword.first) }}
            </div>
            
            <div class="flex flex-col">
                {{ form_label(form.newPassword.second) }}
                {{ form_widget(form.newPassword.second, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
                {{ form_errors(form.newPassword.second) }}
            </div>
        </div>
        
        <div class="text-center mt-4">
            <button type="submit" class="inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-white" style="background-color: #134F63; transition: background-color 0.2s ease-in-out;" onmouseover="this.style.backgroundColor='#05C1FA'" onmouseout="this.style.backgroundColor='#134F63'">Modifier</button>
        </div>
        {{ form_end(form) }}
    </section>
    <script src="{{ asset('js/account.js') }}"></script>
    {% if app.flashes('redirect') %}
        <script>
            setTimeout(function() {
                window.location.href = '{{ path('app_logout') }}';
            }, 3000);
        </script>
    {% endif %}
{% endblock %}
